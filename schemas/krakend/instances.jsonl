{"$id":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"url_pattern":"/protected-response.json"}],"endpoint":"/test-basic-auth-ko"},{"backend":[{"extra_config":{"modifier/martian":{"header.Modifier":{"name":"Authorization","scope":["request"],"value":"Basic a3Jha2VuZDpwYXNzd29yZA=="}}},"url_pattern":"/protected-response.json"}],"endpoint":"/test-basic-auth-ok"}],"host":["http://fake_api:8080"],"name":"My first API Gateway - KrakenD","port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v2.3/krakend.json","endpoints":[{"backend":[{"extra_config":{"modifier/lua-backend":{"allow_open_libs":true,"live":true,"post":"filter(request.load(), response.load())","sources":["./filter.lua"]}},"mapping":{"expandedBom":"collection"},"url_pattern":"/bom.json"}],"endpoint":"/using-lua","output_encoding":"json-collection"},{"backend":[{"url_pattern":"/bom.json"}],"endpoint":"/using-jmespath","extra_config":{"modifier/jmespath":{"expr":"expandedBom[*]"}},"output_encoding":"json-collection"},{"backend":[{"allow":["expandedBom"],"mapping":{"expandedBom":"collection"},"url_pattern":"/bom.json"}],"endpoint":"/using-allow","output_encoding":"json-collection"}],"host":["http://my_service:8080"],"name":"My KrakenD API Gateway","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","async_agent":[{"backend":[{"host":["http://127.0.0.1:8080"],"method":"POST","url_pattern":"/__debug/async-agent-demo"}],"connection":{"backoff_strategy":"exponential-jitter","max_retries":10},"consumer":{"topic":"*.bar","workers":20},"extra_config":{"async/amqp":{"auto_ack":true,"exchange":"foo","host":"amqp://guest:guest@rabbitmq:5672/","name":"krakend","prefetch_count":40}},"name":"async-agent-demo"}],"cache_ttl":"300s","debug_endpoint":true,"endpoints":[{"@comment":"Feature: Aggregation + Basic transformation (filtering & mapping) + grouping","backend":[{"allow":["avatar_url","name","company","blog","location","mail","hireable","followers","public_repos","public_gists"],"group":"user","host":["https://api.github.com"],"mapping":{"blog":"website"},"url_pattern":"/users/{user}"},{"host":["https://api.github.com"],"is_collection":true,"mapping":{"collection":"repos"},"url_pattern":"/users/{user}/repos"}],"endpoint":"/git/{user}","extra_config":{"documentation/openapi":{"description":"This endpoint fetches in parallel the user information and the repository information from Githuib and returns it together. Non interesting fields are removed.","summary":"Merges two calls from github and serves under a single endpoint","tags":["Aggregation"]}}},{"@comment":"Feature: One-liner advanced data manipulation (filter, sorting & remapping) with JMESPath Query Language","backend":[{"encoding":"safejson","host":["https://api.coingecko.com"],"url_pattern":"/api/v3/coins/markets?vs_currency={currency}&order=market_cap_desc&per_page=100&page=1&sparkline=false"}],"endpoint":"/cryptos/{currency}","extra_config":{"documentation/openapi":{"description":"This endpoint fetches some crypto capitalization data from Coingecko for a given currency.","summary":"Get TOP 5 crypto capitalization & price data for a given currency","tags":["Aggregation"]},"modifier/jmespath":{"@comment":"Get first 5 crypto by market capitalization, then reverse sort them by name, finally filter and rename some fields","expr":"reverse(sort_by(collection[:5], &name))[*].{name: name, token: symbol,price: current_price, price_change: price_change_percentage_24h, market_cap: market_cap}"}},"output_encoding":"json-collection"},{"@comment":"Feature: Regular expression manipulation","backend":[{"allow":["credit_card"],"extra_config":{"plugin/req-resp-modifier":{"content-replacer":{"credit_card.number":{"@comment":"Ridiculous card masking. Show last 4 digits and remove the rest. Credit card number is nested.","find":"^.*(\\d{4})","regexp":true,"replace":"XXXX-${1}"}},"name":["content-replacer"]}},"url_pattern":"/user/1.json"}],"endpoint":"/user/creditcard"},{"@comment":"Feature: Security policy engine for requests, responses and claim checking","@test_with":"curl -iG -H'Cookie: GDPR=yes' 'http://localhost:8080/track-user'","backend":[{"host":["http://localhost:8080"],"url_pattern":"/__debug/cookie"}],"endpoint":"/track-user","extra_config":{"security/policies":{"req":{"error":{"body":"User did not accept the cookie and tracking is not allowed","status":403},"policies":["getCookie('GDPR') == 'yes'"]}}},"input_headers":["Cookie"]},{"@comment":"Feature: Aggregation + backend rate limiting + endpoint rate limiting","backend":[{"allow":["campaigns"],"url_pattern":"/shop/campaigns.json"},{"allow":["products"],"extra_config":{"qos/ratelimit/proxy":{"capacity":1,"max_rate":1}},"url_pattern":"/shop/products.json"}],"endpoint":"/shop","extra_config":{"qos/ratelimit/router":{"max_rate":2}}},{"@comment":"Feature: Backend cache","backend":[{"encoding":"safejson","extra_config":{"qos/http-cache":{"shared":true}},"host":["https://api.coingecko.com"],"mapping":{"collection":"coins"},"url_pattern":"/api/v3/coins/markets?vs_currency=eur&ids=bitcoin%2Cethereum&order=market_cap_desc&per_page=100&page=1&sparkline=false"}],"endpoint":"/market/cached"},{"@comment":"Feature: GraphQL to REST","backend":[{"extra_config":{"backend/graphql":{"query":"query Query ($movie_id: ID!) {\nfilm (filmID: $movie_id) {\nid\nepisodeID\ntitle\ndirector\nreleaseDate\nspeciesConnection {\nspecies {\nname\nclassification\nhomeworld {\nname\n}\n}\n}\n}\n}","type":"query","variables":{"movie_id":"{movie_id}"}}},"host":["https://swapi-graphql.netlify.app/"],"target":"data.film","url_pattern":"/.netlify/functions/index"}],"endpoint":"/starwars_films/{movie_id}"},{"@comment":"Feature: Concurrent calls - Not enabled","backend":[{"encoding":"safejson","host":["https://api.coingecko.com"],"mapping":{"collection":"coins"},"url_pattern":"/api/v3/coins/markets?vs_currency=eur&ids=bitcoin%2Cethereum&order=market_cap_desc&per_page=100&page=1&sparkline=false"}],"endpoint":"/market/simple","extra_config":{"documentation/openapi":{"description":"This endpoint fetches crypto market information from Coingecko using a single non-concurrent call.","summary":"Get crypto market information with a single call","tags":["Concurrent calls"]}}},{"@comment":"Feature: Concurrent calls - Enabled","backend":[{"encoding":"safejson","host":["https://api.coingecko.com"],"mapping":{"collection":"coins"},"url_pattern":"/api/v3/coins/markets?vs_currency=eur&ids=bitcoin%2Cethereum&order=market_cap_desc&per_page=100&page=1&sparkline=false"}],"concurrent_calls":3,"endpoint":"/market/concurrent","extra_config":{"documentation/openapi":{"description":"This endpoint fetches crypto market information from Coingecko using 3 concurrent calls.","summary":"Get crypto market information with 3 concurrent calls","tags":["Concurrent calls"]}}},{"@comment":"Feature: Sequential calls, using values from 1st call response into 2nd call request","backend":[{"allow":["destination_id"],"url_pattern":"/hotels/1.json"},{"url_pattern":"/destinations/{resp0_destination_id}.json"}],"endpoint":"/sequential","extra_config":{"proxy":{"sequential":true}}},{"@comment":"Feature: A failing request from a non-existent backend","backend":[{"group":"user","url_pattern":"/user/1.json"},{"group":"none","host":["http://fake_url_that_should_not_resolve.tld"],"url_pattern":"/"}],"endpoint":"/fail"},{"@comment":"Feature: Expose a GET REST endpoint from POST to SOAP service","backend":[{"deny":["-m"],"encoding":"xml","extra_config":{"backend/soap":{"@comment":"The XML template with variables is in the following path:","path":"./templates/soap_request_capital_city.tmpl.xml"}},"host":["http://webservices.oorsprong.org"],"mapping":{"CapitalCityResult":"capital"},"method":"POST","target":"Envelope.Body.CapitalCityResponse","url_pattern":"/websamples.countryinfo/CountryInfoService.wso"}],"endpoint":"/capital-of/{country}"},{"@comment":"EE only feature: Wildcard to our fake API, open","backend":[{"url_pattern":"/"}],"endpoint":"/fake-api/*","extra_config":{"documentation/openapi":{"description":"This endpoint will send all requests to a designed backend including everything after the /fake-api path","summary":"Calls to internal service with wildcard","tags":["Wildcard"]}}},{"@comment":"EE only feature: Wildcard to our fake API, protected with Basic Auth","@test_with":"curl -iG 'http://admin:admin@localhost:8080/fake-api-auth/articles.json'","backend":[{"url_pattern":"/"}],"endpoint":"/fake-api-auth/*","extra_config":{"@comment":"The simple inclusion of the Auth Basic component enables it for this endpoint","auth/basic":{},"documentation/openapi":{"description":"This endpoint will send all requests to a designed backend including everything after the /fake-api-auth path, adding Basic Authentication","summary":"Calls to internal service with wildcard, adding auth","tags":["Wildcard"]}},"output_encoding":"no-op"},{"@comment":"EE only feature: Wildcard with geofencing - Allow visits only from Spain","backend":[{"url_pattern":"/"}],"endpoint":"/fake-api-geofence/*","extra_config":{"documentation/openapi":{"description":"This endpoint will send all requests to a designed backend including everything after the /fake-api-geofence path, adding geofencing (allowing calls only from Spain)","summary":"Calls to internal service with wildcard, using geofencing","tags":["Wildcard"]},"validation/cel":[{"check_expr":"req_headers['X-Geoip'][0].matches('\"IsoCode\":\"ES\"')"}]},"input_headers":["X-Geoip"]},{"@comment":"EE only feature: Dynamic routing based on headers (token claim and cookie also available)","backend":[{"@comment":"We will route to the backend using the content of the 'X-Route' header","@test_with":"curl -iG -H 'X-Route: hello' 'http://localhost:8080/dynamic/header'","host":["http://localhost:8080"],"url_pattern":"/__debug/{input_headers.x-route}"}],"endpoint":"/dynamic/header"},{"@comment":"EE only feature: Dynamic routing based on query strings","backend":[{"@comment":"We will route to the backend using the content of the 'X-Route' header","@test_with":"curl -iG 'http://localhost:8080/dynamic/qs?route=hello'","host":["http://localhost:8080"],"url_pattern":"/__debug/{input_query_strings.route}"}],"endpoint":"/dynamic/qs"},{"@comment":"Feature: A public endpoint that requires no authentication","backend":[{"url_pattern":"/hotels/1.json"}],"endpoint":"/public"},{"@comment":"Feature: Authorization based on JWT (using Auth0)","backend":[{"url_pattern":"/user/1.json"}],"endpoint":"/private/auth0","extra_config":{"auth/validator":{"alg":"RS256","audience":["http://api.example.com"],"jwk_url":"https://albert-test.auth0.com/.well-known/jwks.json","roles":["user","admin"],"roles_key":"http://api.example.com/custom/roles"},"documentation/openapi":{"description":"This endpoint uses JWT authentication with Auth0","summary":"Some information behind JWT authentication protection (Auth0)","tags":["Authentication"]}}},{"@comment":"Feature: Authorization based on JWT (using KrakenD JOSE signer)","backend":[{"url_pattern":"/user/1.json"}],"endpoint":"/private/custom","extra_config":{"auth/validator":{"alg":"HS256","audience":["http://api.example.com"],"disable_jwk_security":true,"issuer":"https://krakend.io","jwk_url":"http://fake_api:8080/jwk/symmetric.json","roles":["role_a","role_c"],"roles_key":"roles"}}},{"@comment":"Feature: JWT signing, as described at https://www.krakend.io/docs/authorization/jwt-signing/","backend":[{"url_pattern":"/token.json"}],"endpoint":"/token","extra_config":{"auth/signer":{"alg":"HS256","disable_jwk_security":true,"jwk_url":"http://fake_api:8080/jwk/symmetric.json","keys_to_sign":["access_token","refresh_token"],"kid":"sim2"}}},{"@comment":"EE only feature: Authorization based on API Keys","backend":[{"host":["http://localhost:8080"],"url_pattern":"/__debug/admin"}],"endpoint":"/api-key","extra_config":{"auth/api-keys":{"roles":["admin"]},"documentation/openapi":{"description":"This endpoint uses API-Key authentication","summary":"Some information behind API-Keys authentication protection","tags":["Authentication"]}}},{"@comment":"Feature: Only POST method allowed","backend":[{"url_pattern":"/__debug/post"}],"endpoint":"/post","method":"POST"},{"@comment":"Feature: Mocked response","backend":[{"host":["http://unexistent_backend"],"url_pattern":"/"}],"endpoint":"/mocked-response","extra_config":{"proxy":{"static":{"data":{"an_array":["arr1","arr2"],"an_integer":123,"an_object":{"obj":"obj1"}},"strategy":"always"}}},"method":"GET","output_encoding":"json"},{"@comment":"EE only feature: GRPC","backend":[{"extra_config":{"backend/grpc":{"input_mapping":{"lat":"where.latitude","lon":"where.longitude"}}},"group":"flights","host":["grpc_flights:4242"],"url_pattern":"/flight_finder.Flights/FindFlight"},{"extra_config":{"backend/grpc":{"client_tls":{"allow_insecure_connections":true},"input_mapping":{"lat":"origin.position.latitude","lon":"origin.position.longitude"},"output_duration_as_string":true,"output_enum_as_string":true,"output_timestamp_as_string":true,"response_naming_convention":"camelCase"}},"group":"trains","host":["grpc_trains:4243"],"url_pattern":"/train_finder.Trains/FindTrains"},{"group":"hotels","url_pattern":"/hotels/1.json"},{"extra_config":{"backend/grpc":{"client_tls":{"allow_insecure_connections":true},"output_remove_unset_values":true,"response_naming_convention":"camelCase"}},"group":"trains_classes","host":["grpc_trains:4243"],"url_pattern":"/train_finder.Trains/GetTrainClasses"}],"endpoint":"/travel","input_query_strings":["lat","lon"]},{"@comment":"EE only feature: GRPC Payload in Body","backend":[{"extra_config":{"backend/grpc":{"use_request_body":true}},"group":"flights","host":["grpc_flights:4242"],"url_pattern":"/flight_finder.Flights/BookFlight"}],"endpoint":"/travel_book_flight","method":"POST"},{"@comment":"EE only feature: WebSockets (chat example)","backend":[{"disable_host_sanitize":true,"host":["ws://chat:8888"],"url_pattern":"/ws/{room}"}],"endpoint":"/chat/ws/{room}","extra_config":{"websocket":{"backoff_strategy":"exponential","connect_event":true,"disconnect_event":true,"input_headers":["Cookie","Authorization"],"max_message_size":3200000,"max_retries":0,"message_buffer_size":4096,"ping_period":"54s","pong_wait":"60s","read_buffer_size":4096,"write_buffer_size":4096,"write_wait":"10s"}},"input_headers":["*"],"input_query_strings":["*"]},{"@comment":"EE only feature: WebSockets (chat example web interface)","backend":[{"encoding":"no-op","host":["http://chat:8888"],"url_pattern":"/"}],"endpoint":"/chat","output_encoding":"no-op"}],"extra_config":{"auth/api-keys":{"keys":[{"@description":"ACME Inc.","key":"4d2c61e1-34c4-e96c-9456-15bd983c5019","roles":["role1","role2"]},{"@description":"Administrators Inc.","key":"58427514-be32-0b52-b7c6-d01fada30497","roles":["admin","user"]}]},"auth/basic":{"@comment":"Location of the password file for endpoints requiring basic auth","htpasswd_path":"/etc/krakend/.htpasswd"},"auth/revoker":{"N":10000000,"P":1E-7,"TTL":1500,"hash_name":"optimal","port":1234,"token_keys":["jti"]},"documentation/openapi":{"contact_email":"contact@example.com","contact_name":"John Doe","license_name":"MIT","license_url":"https://opensource.org/licenses/MIT","version":"1"},"grpc":{"catalog":["/etc/krakend/grpc_catalog"]},"plugin/http-server":{"geoip":{"citydb_path":"/etc/krakend/geoip/GeoLite2-City.mmdb"},"name":["static-filesystem","geoip","url-rewrite"],"static-filesystem":{"path":"/etc/krakend/demo/","prefix":"/demo/"},"url-rewrite":{"literal":{"/git-profile":"/git"},"regexp":[["/git-profile/([a-z]{3})","/git/${1}"],["/crypto-profile/([a-z]{3})","/cryptos/${1}"]]}},"router":{"return_error_msg":true},"security/cors":{"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["POST","GET"],"allow_origins":["*"],"expose_headers":["Content-Length"],"max_age":"12h"},"telemetry/gelf":{"address":"logstash:12201","enable_tcp":false},"telemetry/influx":{"address":"http://influxdb:8086","buffer_size":100,"password":"pas5w0rd","ttl":"25s","username":"krakend-dev"},"telemetry/logging":{"level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"collection_time":"30s","listen_address":":8090"},"telemetry/opencensus":{"enabled_layers":{"backend":true,"router":true},"exporters":{"jaeger":{"endpoint":"http://jaeger:14268/api/traces","service_name":"krakend"}},"reporting_period":1,"sample_rate":100}},"host":["http://fake_api:8080"],"name":"KrakenD Enterprise API Gateway","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"port":8080,"sequential_start":true,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","async_agent":[{"backend":[{"host":["http://127.0.0.1:8080"],"method":"POST","url_pattern":"/__debug/async-agent-demo"}],"connection":{"backoff_strategy":"exponential-jitter","max_retries":10},"consumer":{"topic":"*.bar","workers":20},"extra_config":{"async/amqp":{"auto_ack":true,"exchange":"foo","host":"amqp://guest:guest@rabbitmq:5672/","name":"krakend","prefetch_count":40}},"name":"async-agent-demo"}],"cache_ttl":"300s","endpoints":[{"@comment":"Feature: Aggregation + Basic transformation (filtering & mapping) + grouping","backend":[{"allow":["avatar_url","name","company","blog","location","mail","hireable","followers","public_repos","public_gists"],"group":"user","host":["https://api.github.com"],"mapping":{"blog":"website"},"url_pattern":"/users/{user}"},{"host":["https://api.github.com"],"is_collection":true,"mapping":{"collection":"repos"},"url_pattern":"/users/{user}/repos"}],"endpoint":"/git/{user}"},{"@comment":"Feature: Aggregation & Transformation with collections","backend":[{"encoding":"safejson","extra_config":{"proxy":{"flatmap_filter":[{"args":["collection","coins"],"type":"move"},{"args":["coins.*.ath_change_percentage","coins.*.ath_date","coins.*.atl","coins.*.atl_change_percentage","coins.*.atl_date","coins.*.circulating_supply","coins.*.fully_diluted_valuation","coins.*.high_24h","coins.*.fully_diluted_valuation","coins.*.low_24h","coins.*.market_cap_change_24h","coins.*.market_cap_change_percentage_24h","coins.*.market_cap_rank","coins.*.max_supply","coins.*.price_change_24h","coins.*.price_change_percentage_24h","coins.*.roi","coins.*.total_supply","coins.*.total_volume"],"type":"del"}]}},"host":["https://api.coingecko.com"],"url_pattern":"/api/v3/coins/markets?vs_currency={currency}&ids=bitcoin%2Cethereum&order=market_cap_desc&per_page=100&page=1&sparkline=false"},{"allow":["total_market_cap.btc","total_market_cap.eth","total_volume.btc","total_volume.eth","market_cap_percentage.btc","market_cap_percentage.eth","updated_at"],"group":"market","host":["https://api.coingecko.com"],"target":"data","url_pattern":"/api/v3/global"}],"endpoint":"/cryptos/{currency}"},{"@comment":"Feature: Aggregation + backend rate limiting + endpoint rate limiting","backend":[{"allow":["campaigns"],"url_pattern":"/shop/campaigns.json"},{"allow":["products"],"extra_config":{"qos/ratelimit/proxy":{"capacity":1,"max_rate":1}},"url_pattern":"/shop/products.json"}],"endpoint":"/shop","extra_config":{"qos/ratelimit/router":{"max_rate":2}}},{"@comment":"Feature: Backend cache","backend":[{"encoding":"safejson","extra_config":{"qos/http-cache":{"shared":true}},"host":["https://api.coingecko.com"],"mapping":{"collection":"coins"},"url_pattern":"/api/v3/coins/markets?vs_currency=eur&ids=bitcoin%2Cethereum&order=market_cap_desc&per_page=100&page=1&sparkline=false"}],"endpoint":"/market/cached"},{"@comment":"Feature: GraphQL to REST","backend":[{"extra_config":{"backend/graphql":{"query":"query Query ($movie_id: ID!) {\nfilm (filmID: $movie_id) {\nid\nepisodeID\ntitle\ndirector\nreleaseDate\nspeciesConnection {\nspecies {\nname\nclassification\nhomeworld {\nname\n}\n}\n}\n}\n}","type":"query","variables":{"movie_id":"{movie_id}"}}},"host":["https://swapi-graphql.netlify.app/"],"target":"data.film","url_pattern":"/.netlify/functions/index"}],"endpoint":"/starwars_films/{movie_id}"},{"@comment":"Feature: Concurrent calls - Not enabled","backend":[{"encoding":"safejson","host":["https://api.coingecko.com"],"mapping":{"collection":"coins"},"url_pattern":"/api/v3/coins/markets?vs_currency=eur&ids=bitcoin%2Cethereum&order=market_cap_desc&per_page=100&page=1&sparkline=false"}],"endpoint":"/market/simple"},{"@comment":"Feature: Concurrent calls - Enabled","backend":[{"encoding":"safejson","host":["https://api.coingecko.com"],"mapping":{"collection":"coins"},"url_pattern":"/api/v3/coins/markets?vs_currency=eur&ids=bitcoin%2Cethereum&order=market_cap_desc&per_page=100&page=1&sparkline=false"}],"concurrent_calls":3,"endpoint":"/market/concurrent"},{"@comment":"Feature: Sequential calls, using values from 1st call response into 2nd call request","backend":[{"allow":["destination_id"],"url_pattern":"/hotels/1.json"},{"url_pattern":"/destinations/{resp0_destination_id}.json"}],"endpoint":"/sequential","extra_config":{"proxy":{"sequential":true}}},{"@comment":"Feature: A failing request from a non-existent backend","backend":[{"group":"user","url_pattern":"/user/1.json"},{"group":"none","host":["http://fake_url_that_should_not_resolve.tld"],"url_pattern":"/"}],"endpoint":"/fail"},{"@comment":"Feature: A public endpoint that requires no authentication","backend":[{"url_pattern":"/hotels/1.json"}],"endpoint":"/public"},{"@comment":"Feature: Authorization based on JWT (using Auth0)","backend":[{"url_pattern":"/user/1.json"}],"endpoint":"/private/auth0","extra_config":{"auth/validator":{"alg":"RS256","audience":["http://api.example.com"],"jwk_url":"https://albert-test.auth0.com/.well-known/jwks.json","roles":["user","admin"],"roles_key":"http://api.example.com/custom/roles"}}},{"@comment":"Feature: Authorization based on JWT (using KrakenD JOSE signer)","backend":[{"url_pattern":"/user/1.json"}],"endpoint":"/private/custom","extra_config":{"auth/validator":{"alg":"HS256","audience":["http://api.example.com"],"disable_jwk_security":true,"issuer":"https://krakend.io","jwk_url":"http://fake_api:8080/jwk/symmetric.json","roles":["role_a","role_c"],"roles_key":"roles"}}},{"@comment":"Feature: JWT signing, as described at https://www.krakend.io/docs/authorization/jwt-signing/","backend":[{"url_pattern":"/token.json"}],"endpoint":"/token","extra_config":{"auth/signer":{"alg":"HS256","disable_jwk_security":true,"jwk_url":"http://fake_api:8080/jwk/symmetric.json","keys_to_sign":["access_token","refresh_token"],"kid":"sim2"}}},{"@comment":"Feature: Only POST method allowed","backend":[{"url_pattern":"/__debug/post"}],"endpoint":"/post","method":"POST"},{"@comment":"Feature: Mocked response","backend":[{"host":["http://unexistent_backend"],"url_pattern":"/"}],"endpoint":"/mocked-response","extra_config":{"proxy":{"static":{"data":{"an_array":["arr1","arr2"],"an_integer":123,"an_object":{"obj":"obj1"}},"strategy":"always"}}},"method":"GET","output_encoding":"json"}],"extra_config":{"auth/revoker":{"N":10000000,"P":1E-7,"TTL":1500,"hash_name":"optimal","port":1234,"token_keys":["jti"]},"security/cors":{"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["POST","GET"],"allow_origins":["*"],"expose_headers":["Content-Length"],"max_age":"12h"},"telemetry/gelf":{"address":"logstash:12201","enable_tcp":false},"telemetry/influx":{"address":"http://influxdb:8086","buffer_size":100,"password":"pas5w0rd","ttl":"25s","username":"krakend-dev"},"telemetry/logging":{"level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"collection_time":"30s","listen_address":":8090"},"telemetry/opencensus":{"enabled_layers":{"backend":true,"router":true},"exporters":{"jaeger":{"endpoint":"http://jaeger:14268/api/traces","service_name":"krakend"}},"reporting_period":1,"sample_rate":100}},"host":["http://fake_api:8080"],"name":"KrakenD Enterprise API Gateway","port":8080,"sequential_start":true,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","debug_endpoint":true,"endpoints":[{"backend":[{"disable_host_sanitize":true,"host":["ws://ws_service:5678"],"url_pattern":"/"}],"endpoint":"/ws","extra_config":{"websocket":{"backoff_strategy":"exponential","connect_event":true,"disconnect_event":true,"max_retries":2}}}],"extra_config":{"telemetry/logging":{"level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false}},"name":"KrakenD Enterprise API Gateway","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"port":8080,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","disable_rest":false,"endpoints":[{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/registry"}],"endpoint":"/api/anyJS/v1/registry","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"PATCH","url_pattern":"/api/anyJS/v1/registry/{codeName}"}],"endpoint":"/api/anyJS/v1/registry/{codeName}","extra_config":{},"method":"PATCH","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"PUT","url_pattern":"/api/anyJS/v1/registry/{codeName}"}],"endpoint":"/api/anyJS/v1/registry/{codeName}","extra_config":{},"method":"PUT","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/registry/{codeName}"}],"endpoint":"/api/anyJS/v1/registry/{codeName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/registry/{codeName}"}],"endpoint":"/api/anyJS/v1/registry/{codeName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/task/{language}"}],"endpoint":"/api/anyJS/v1/task/{language}","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/task/batch/{language}"}],"endpoint":"/api/anyJS/v1/task/batch/{language}","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"PUT","url_pattern":"/api/anyJS/v1/task/{language}"}],"endpoint":"/api/anyJS/v1/task/{language}","extra_config":{},"method":"PUT","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/task/{taskName}"}],"endpoint":"/api/anyJS/v1/task/{taskName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/task/{taskName}/{executionName}"}],"endpoint":"/api/anyJS/v1/task/{taskName}/{executionName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/task/{taskName}"}],"endpoint":"/api/anyJS/v1/task/{taskName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/task/{taskName}/{executionName}"}],"endpoint":"/api/anyJS/v1/task/{taskName}/{executionName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/storage"}],"endpoint":"/api/anyJS/v1/storage","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"PUT","url_pattern":"/api/anyJS/v1/storage"}],"endpoint":"/api/anyJS/v1/storage","extra_config":{},"method":"PUT","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/storage/{codeName}"}],"endpoint":"/api/anyJS/v1/storage/{codeName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/storage/{codeName}/{objectName}"}],"endpoint":"/api/anyJS/v1/storage/{codeName}/{objectName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/storage/{codeName}/{objectName}"}],"endpoint":"/api/anyJS/v1/storage/{codeName}/{objectName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/storage/{codeName}"}],"endpoint":"/api/anyJS/v1/storage/{codeName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/instantiate/{language}"}],"endpoint":"/api/anyJS/v1/instantiate/{language}","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"PUT","url_pattern":"/api/anyJS/v1/instantiate/{language}"}],"endpoint":"/api/anyJS/v1/instantiate/{language}","extra_config":{},"method":"PUT","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/instantiate/{codeName}/{objectName}"}],"endpoint":"/api/anyJS/v1/instantiate/{codeName}/{objectName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/instantiate/{codeName}"}],"endpoint":"/api/anyJS/v1/instantiate/{codeName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/instantiate/{codeName}/{objectName}"}],"endpoint":"/api/anyJS/v1/instantiate/{codeName}/{objectName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/instantiate/{codeName}"}],"endpoint":"/api/anyJS/v1/instantiate/{codeName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/map"}],"endpoint":"/api/anyJS/v1/map","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/map/elements"}],"endpoint":"/api/anyJS/v1/map/elements","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/map/entry"}],"endpoint":"/api/anyJS/v1/map/entry","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/map/forEach/{language}"}],"endpoint":"/api/anyJS/v1/map/forEach/{language}","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"PATCH","url_pattern":"/api/anyJS/v1/map/entry"}],"endpoint":"/api/anyJS/v1/map/entry","extra_config":{},"method":"PATCH","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"PUT","url_pattern":"/api/anyJS/v1/map/elements"}],"endpoint":"/api/anyJS/v1/map/elements","extra_config":{},"method":"PUT","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/map/entry/{mapName}/{key}"}],"endpoint":"/api/anyJS/v1/map/entry/{mapName}/{key}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/map/elements/{mapName}"}],"endpoint":"/api/anyJS/v1/map/elements/{mapName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/map/has/{mapName}/{key}"}],"endpoint":"/api/anyJS/v1/map/has/{mapName}/{key}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/map/keys/{mapName}"}],"endpoint":"/api/anyJS/v1/map/keys/{mapName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/map/values/{mapName}"}],"endpoint":"/api/anyJS/v1/map/values/{mapName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/map/{mapName}/{key}"}],"endpoint":"/api/anyJS/v1/map/{mapName}/{key}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/map/clear/{mapName}"}],"endpoint":"/api/anyJS/v1/map/clear/{mapName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/map/{mapName}"}],"endpoint":"/api/anyJS/v1/map/{mapName}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/sync/obj"}],"endpoint":"/api/anyJS/v1/sync/obj","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/sync/map"}],"endpoint":"/api/anyJS/v1/sync/map","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/unsync/map"}],"endpoint":"/api/anyJS/v1/unsync/map","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"POST","url_pattern":"/api/anyJS/v1/unsync/obj"}],"endpoint":"/api/anyJS/v1/unsync/obj","extra_config":{},"method":"POST","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/sync/obj/{objName}"}],"endpoint":"/api/anyJS/v1/sync/obj/{objName}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"GET","url_pattern":"/api/anyJS/v1/sync/map/{mapName}/{key}"}],"endpoint":"/api/anyJS/v1/sync/map/{mapName}/{key}","extra_config":{},"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/sync/obj/{objName}/id/{identifier}"}],"endpoint":"/api/anyJS/v1/sync/obj/{objName}/id/{identifier}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_server:4445"],"method":"DELETE","url_pattern":"/api/anyJS/v1/sync/map/{mapName}/{key}/id/{identifier}"}],"endpoint":"/api/anyJS/v1/sync/map/{mapName}/{key}/id/{identifier}","extra_config":{},"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_observer:4447"],"method":"GET","url_pattern":"/api/anyJS/v1/observer/{service}/{collectionName}/{documentName}"}],"endpoint":"/api/anyJS/v1/observer/{service}/{collectionName}/{documentName}","extra_config":{},"input_query_strings":["timeout","count"],"method":"GET","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","extra_config":{},"host":["http://anyjs_observer:4447"],"method":"GET","url_pattern":"/api/anyJS/v1/observer/{service}/{collectionName}"}],"endpoint":"/api/anyJS/v1/observer/{service}/{collectionName}","extra_config":{},"input_query_strings":["timeout","count"],"method":"GET","output_encoding":"no-op"}],"extra_config":{"telemetry/logging":{"format":"default","level":"ERROR","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"backend_disabled":false,"collection_time":"60s","endpoint_disabled":false,"listen_address":":8090","proxy_disabled":false,"router_disabled":false}},"name":"gatewayapi","output_encoding":"no-op","port":8080,"timeout":"30000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","disable_rest":true,"endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["https://calvinkmts.github.io"],"is_collection":true,"mapping":{"collection":"result"},"method":"GET","sd":"static","url_pattern":"/api-wilayah-indonesia/api/provinces.json"}],"endpoint":"/location/provinces","method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["https://calvinkmts.github.io"],"is_collection":true,"mapping":{"collection":"result"},"method":"GET","sd":"static","url_pattern":"/api-wilayah-indonesia/api/regencies/{provinceId}.json"}],"endpoint":"/location/regencies/{provinceId}","method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["https://calvinkmts.github.io"],"is_collection":true,"mapping":{"collection":"result"},"method":"GET","sd":"static","url_pattern":"/api-wilayah-indonesia/api/districts/{regencyId}.json"}],"endpoint":"/location/districts/{regencyId}","method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["https://calvinkmts.github.io"],"is_collection":true,"mapping":{"collection":"result"},"method":"GET","sd":"static","url_pattern":"/api-wilayah-indonesia/api/villages/{districtId}.json"}],"endpoint":"/location/villages/{districtId}","method":"GET","output_encoding":"json"}],"extra_config":{"security/cors":{"allow_credentials":true,"allow_headers":["Accept-Language","Accept","Authorization","Content-Type","X-CSRF-Token"],"allow_methods":["GET","POST","PUT","DELETE","OPTIONS"],"allow_origins":["https://*","http://*"],"debug":false,"expose_headers":["Content-Length","Content-Type","Link"],"max_age":"12h"}},"name":"KrakenD - API Gateway","output_encoding":"json","timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"@comment":"Consolidate Api","backend":[{"encoding":"safejson","host":["http://consolidate-api"],"url_pattern":"/consolidate"}],"endpoint":"/api/consolidate","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"jwk_url":"http://keycloak:8080/auth/realms/follow_the_money/protocol/openid-connect/certs","operation_debug":true}},"input_query_strings":["Date"]},{"@comment":"Consolidate Api","backend":[{"encoding":"safejson","host":["http://consolidate-api"],"url_pattern":"/security/getToken"}],"endpoint":"/getToken","method":"POST"},{"@comment":"Transaction Api","backend":[{"encoding":"no-op","host":["http://transactions-api"],"url_pattern":"/transaction/add"}],"endpoint":"/api/transaction/add","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"jwk_url":"http://keycloak:8080/auth/realms/follow_the_money/protocol/openid-connect/certs","operation_debug":true}},"method":"POST","output_encoding":"no-op"}],"extra_config":{"telemetry/opencensus":{"exporters":{"jaeger":{"buffer_max_count":1000,"endpoint":"http://jaeger-trace:14268/api/traces","service_name":"Api.Gateway"}},"reporting_period":0,"sample_rate":100}},"host":["http://fake_api:8080"],"name":"KrakenD Enterprise API Gateway","port":8080,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"@comment":"Feature: A public endpoint that requires no authentication","backend":[{"host":["http://documents:80"],"is_collection":true,"mapping":{"collection":"documents"},"url_pattern":"/documents"},{"host":["http://printers:80"],"is_collection":true,"mapping":{"collection":"printers"},"url_pattern":"/printers"}],"endpoint":"/clients","method":"GET","timeout":"8000ms"}],"extra_config":{"telemetry/opencensus":{"exporters":{"jaeger":{"buffer_max_count":1000,"endpoint":"http://localhost:16686/api/traces","service_name":"clients"}}}},"host":["http://fake_api:8080"],"name":"KrakenD Enterprise API Gateway","port":8080,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"allow":["campaigns"],"host":["http://fake_api:8080"],"url_pattern":"/shop/campaigns"},{"extra_config":{"proxy":{"shadow":true}},"host":["http://fake_api:8080"],"url_pattern":"/shop/new-campaigns"},{"allow":["products"],"extra_config":{"qos/ratelimit/proxy":{"capacity":1,"max_rate":1},"validation/cel":[{"check_expr":"size(req_headers['Authorization']) > 0 && req_headers['Authorization'][0].contains('Bearer ')"},{"check_expr":"double(req_querystring.lat[0]) != 0.0 && double(req_querystring.lat[0]) >= -90.0 && double(req_querystring.lat[0]) <= 90.0"},{"check_expr":"double(req_querystring.lon[0]) != 0.0 && double(req_querystring.lon[0]) >= -180.0 && double(req_querystring.lon[0]) <= 180.0"}]},"host":["http://fake_api:8080"],"url_pattern":"/shop/products"}],"endpoint":"/splash","extra_config":{"qos/ratelimit/router":{"key":"splash-rate-limiter","max_rate":2}},"input_headers":["Accept","Authorization"],"input_query_strings":["lat","lon"]},{"backend":[{"allow":["destination_id"],"extra_config":{"backend/http":{"return_error_details":"hotels"}},"host":["http://fake_api:8080"],"url_pattern":"/hotels/{id}"},{"extra_config":{"validation/cel":[{"check_expr":"has(.Resp0_destination_id}"}]},"host":["http://fake_api:8080"],"url_pattern":"/destinations/{resp0_destination_id}"}],"endpoint":"/sequential/{id}","extra_config":{"proxy":{"sequential":true}},"input_headers":["Accept"]},{"backend":[{"group":"user","host":["http://fake_api:8080"],"url_pattern":"/user/1"},{"group":"none","host":["http://fake_url_that_should_not_resolve.tld"],"url_pattern":"/"}],"endpoint":"/fail","input_headers":["Accept"]},{"backend":[{"allow":["avatar_url","name","company","blog","location","mail","hireable","followers","public_repos","public_gists"],"group":"github","host":["https://api.github.com"],"mapping":{"blog":"website"},"url_pattern":"/users/jbactad"}],"endpoint":"/public","input_headers":["Accept"]},{"backend":[{"host":["http://fake_api:8080"],"url_pattern":"/user/1"}],"endpoint":"/private/auth0","extra_config":{"auth/validator":{"alg":"RS256","audience":["http://api.example.com"],"jwk_url":"https://albert-test.auth0.com/.well-known/jwks.json","roles":["user","admin"],"roles_key":"roles"}},"input_headers":["Accept"]},{"backend":[{"host":["http://fake_api:8080"],"url_pattern":"/user/1"}],"endpoint":"/private/custom","extra_config":{"auth/validator":{"alg":"HS256","audience":["http://api.example.com"],"disable_jwk_security":true,"issuer":"https://krakend.io","jwk_url":"http://fake_api:8080/jwk/symmetric","roles":["role_a","role_c"],"roles_key":"roles"},"plugin/req-resp-modifier":{"name":["auth-to-apikey-request"]}},"input_headers":["Accept","Authorization"]},{"backend":[{"encoding":"json","host":["http://fake_api:8080"],"url_pattern":"/token"}],"endpoint":"/token","extra_config":{"auth/signer":{"alg":"HS256","disable_jwk_security":true,"jwk_url":"http://fake_api:8080/jwk/symmetric","keys_to_sign":["access_token","refresh_token"],"kid":"sim2"}},"input_headers":["Accept"]},{"backend":[{"disable_host_sanitize":true,"encoding":"json","extra_config":{"backend/http":{"return_error_details":"s3content_error"},"plugin/http-client":{"bucket":"test-bucket","name":"s3"},"plugin/req-resp-modifier":{"name":["example-response-modifier"]}},"group":"s3content","host":["http://test-bucket"],"url_pattern":"/sample.json"}],"endpoint":"/filefroms3","method":"GET"}],"extra_config":{"auth/revoker":{"N":10000000,"P":1E-7,"TTL":1500,"hash_name":"optimal","port":1234,"token_keys":["jti"]},"plugin/http-server":{"name":["header-logger"]},"security/cors":{"allow_headers":["Origin","Authorization","Content-Type","Accept"],"allow_methods":["POST","GET"],"allow_origins":["http://localhost:8080","http://localhost:3000","http://192.168.99.100:3000"],"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"},"telemetry/logging":{"format":"logstash","level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"collection_time":"30s","listen_address":":8090"}},"output_encoding":"json","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8003"],"method":"POST","sd":"static","url_pattern":"/login"}],"endpoint":"/v1/login","method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8003"],"method":"POST","sd":"static","url_pattern":"/signup"}],"endpoint":"/v1/signup","method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8003"],"method":"GET","sd":"static","url_pattern":"/health"}],"endpoint":"/v1/health","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true}},"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8005"],"method":"GET","sd":"static","url_pattern":"/accounts/"}],"endpoint":"/v1/api/accounts","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true,"propagate_claims":[["sub","externalID"]]}},"input_headers":["externalID"],"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8005"],"method":"GET","sd":"static","url_pattern":"/accounts/"}],"endpoint":"/v1/api/accounts","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true,"propagate_claims":[["sub","externalID"]]}},"input_headers":["externalID"],"method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8005"],"method":"GET","sd":"static","url_pattern":"/accounts/"}],"endpoint":"/v1/api/accounts","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true,"propagate_claims":[["sub","externalID"]]}},"input_headers":["externalID"],"method":"DELETE","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8005"],"method":"GET","sd":"static","url_pattern":"/categories/"}],"endpoint":"/v1/api/categories","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true,"propagate_claims":[["sub","externalID"]]}},"input_headers":["externalID"],"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8005"],"method":"GET","sd":"static","url_pattern":"/categories/"}],"endpoint":"/v1/api/categories","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true,"propagate_claims":[["sub","externalID"]]}},"input_headers":["externalID"],"method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8005"],"method":"GET","sd":"static","url_pattern":"/categories/"}],"endpoint":"/v1/api/categories","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true,"propagate_claims":[["sub","externalID"]]}},"input_headers":["externalID"],"method":"DELETE","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["127.0.0.1:8005"],"method":"GET","sd":"static","url_pattern":"/operations/"}],"endpoint":"/v1/api/operations","extra_config":{"auth/validator":{"alg":"HS256","disable_jwk_security":true,"jwk_local_path":"jwk.json","operation_debug":true,"propagate_claims":[["sub","externalID"]]}},"input_headers":["externalID"],"method":"POST","output_encoding":"json"}],"name":"KrakenD - API Gateway","output_encoding":"json","port":8050,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["doc_cont:8010"],"is_collection":true,"mapping":{"collection":"documents"},"method":"GET","sd":"static","target":"","url_pattern":"/documents"},{"disable_host_sanitize":false,"encoding":"json","host":["print_cont:8011"],"is_collection":true,"mapping":{"collection":"printers"},"method":"GET","sd":"static","target":"","url_pattern":"/printers"}],"endpoint":"/client","input_query_strings":[],"method":"GET","output_encoding":"json"},{"backend":[{"host":["http://localhost:8070"],"url_pattern":"/__health"}],"endpoint":"/health","extra_config":{"proxy":{"static":{"data":{"custom":"response","foo":"bar"},"strategy":"always"}}}},{"backend":[{"allow":["foo"],"deny":[],"disable_host_sanitize":false,"encoding":"json","host":["micro_1_cont:8012"],"method":"GET","sd":"static","url_pattern":"/main"},{"allow":["second"],"disable_host_sanitize":false,"encoding":"json","host":["micro_2_cont:8013"],"method":"GET","sd":"static","url_pattern":"/main"}],"endpoint":"/main","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"jwk_url":"http://keyclock_cont:8080/realms/easyapi/protocol/openid-connect/certs","operation_debug":true,"roles":["admin","user"],"roles_key":"realm_access.roles","roles_key_is_nested":true}},"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["micro_1_cont:8012"],"method":"GET","sd":"static","url_pattern":"/person"},{"allow":["profession"],"disable_host_sanitize":false,"encoding":"json","host":["micro_2_cont:8013"],"method":"GET","sd":"static","url_pattern":"/person"}],"endpoint":"/person","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"jwk_url":"http://keyclock_cont:8080/realms/easyapi/protocol/openid-connect/certs","operation_debug":true,"roles":["hr","admin"],"roles_key":"realm_access.roles","roles_key_is_nested":true}},"method":"GET","output_encoding":"json"}],"extra_config":{"telemetry/opencensus":{"enabled_layers":{"backend":true,"router":true},"exporters":{"jaeger":{"endpoint":"http://jaeger:14268/api/traces","service_name":"krakend"}},"reporting_period":1,"sample_rate":100}},"name":"KrakenD_api","output_encoding":"json","port":8070,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8080"],"method":"POST","sd":"static","url_pattern":"/login"}],"endpoint":"/v1/token","input_headers":["*"],"method":"POST","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8080"],"method":"GET","sd":"static","url_pattern":"/product"}],"endpoint":"/v1/product","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"input_query_strings":["npp","page"],"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8080"],"method":"GET","sd":"static","url_pattern":"/product/{id}"}],"endpoint":"/v1/product/{id}","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"input_query_strings":["id"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8080"],"method":"POST","sd":"static","url_pattern":"/product"}],"endpoint":"/v1/product","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"method":"POST","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8080"],"method":"PUT","sd":"static","url_pattern":"/product/{id}"}],"endpoint":"/v1/product/{id}","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8080"],"method":"DELETE","sd":"static","url_pattern":"/product/{id}"}],"endpoint":"/v1/product/{id}","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"method":"DELETE","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8089"],"method":"GET","sd":"static","url_pattern":"/transaction"}],"endpoint":"/v1/transaction","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"input_query_strings":["page","limit"],"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://192.168.1.6:8089"],"method":"POST","sd":"static","url_pattern":"/transaction"}],"endpoint":"/v1/transaction","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://192.168.1.6:8089"],"method":"GET","sd":"static","url_pattern":"/transaction/{id}"}],"endpoint":"/v1/transaction/{id}","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"input_query_strings":["page","limit"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://192.168.1.6:8089"],"method":"DELETE","sd":"static","url_pattern":"/transaction/{id}"}],"endpoint":"/v1/transaction/{id}","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.1.6:8080/jwt","operation_debug":true}},"input_headers":["*"],"input_query_strings":["page","limit"],"method":"DELETE","output_encoding":"no-op"}],"extra_config":{"router":{"return_error_msg":true},"security/cors":{"allow_credentials":false,"allow_headers":["Accept-Language"],"allow_methods":["GET","HEAD","POST"],"allow_origins":["*"],"debug":false,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"}},"name":"api-gateway","output_encoding":"no-op","port":9000,"timeout":"30000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://service-user:8003"],"method":"POST","sd":"static","url_pattern":"/api/signup"}],"endpoint":"/auth/signup","method":"POST","output_encoding":"no-op","timeout":"5000ms"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://service-user:8003"],"method":"POST","sd":"static","url_pattern":"/api/login"}],"endpoint":"/auth/login","input_headers":["*"],"method":"POST","output_encoding":"no-op","timeout":"5000ms"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"GET","sd":"static","url_pattern":"/api/user"}],"endpoint":"/auth/user","input_headers":["Access-Control-Allow-Origin","Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"POST","sd":"static","url_pattern":"/api/logout"}],"endpoint":"/auth/logout","input_headers":["Access-Control-Allow-Origin","Cookie"],"method":"POST","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"GET","sd":"static","url_pattern":"/api/user/{username}"}],"endpoint":"/auth/user/{username}","input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"POST","sd":"static","url_pattern":"/questionare"}],"endpoint":"/monit/new","method":"POST","output_encoding":"no-op","timeout":"5s"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"GET","sd":"static","url_pattern":"/questionare/{code}"}],"endpoint":"/monit/code/{code}","input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"GET","sd":"static","url_pattern":"/questionare/{code}/questions"}],"endpoint":"/monit/code/{code}/q","extra_config":{"proxy":{"sequential":false}},"input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"GET","sd":"static","url_pattern":"/questionare"}],"endpoint":"/monit","method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"PUT","sd":"static","url_pattern":"/api/host-add"}],"endpoint":"/monit/host-add","input_headers":["*"],"method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"PUT","sd":"static","url_pattern":"/api/host-pull"}],"endpoint":"/monit/host-pull","input_headers":["*"],"method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"DELETE","sd":"static","url_pattern":"/questionare/{code}"}],"endpoint":"/monit/code/{code}","input_headers":["Cookie"],"method":"DELETE","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"PUT","sd":"static","url_pattern":"/questionare/{code}"}],"endpoint":"/monit/code/{code}","input_headers":["Cookie"],"method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"POST","sd":"static","url_pattern":"/records"}],"endpoint":"/record","input_headers":["Cookie"],"method":"POST","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"PUT","sd":"static","url_pattern":"/api/subs-add"}],"endpoint":"/monit/subs-add","input_headers":["*"],"method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"PUT","sd":"static","url_pattern":"/api/subs-pull"}],"endpoint":"/monit/subs-pull","input_headers":["*"],"method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"GET","sd":"static","url_pattern":"/records"}],"endpoint":"/record","input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"GET","sd":"static","url_pattern":"/records/code/{code}"}],"endpoint":"/record/code/{code}","input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"GET","sd":"static","url_pattern":"/records/code/{code}/{uname}"}],"endpoint":"/record/code/{code}/{uname}","input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-disease-info:8002"],"method":"GET","sd":"static","url_pattern":"/diseases"}],"endpoint":"/infod","input_headers":["Cookie"],"input_query_strings":["skip","limit"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-disease-info:8002"],"method":"GET","sd":"static","url_pattern":"/diseases/id/{id}"}],"endpoint":"/infod/id/{id}","input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-disease-info:8002"],"method":"GET","sd":"static","url_pattern":"/diseases/name/{name}"}],"endpoint":"/infod/n/{name}","input_headers":["Cookie"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-es:8001"],"method":"POST","sd":"static","url_pattern":"/covid"}],"endpoint":"/es/covid","method":"POST","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-user:8003"],"method":"PUT","sd":"static","url_pattern":"/api/subs-pull-all"}],"endpoint":"/monit/subs-pull-all","input_headers":["*"],"method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"PUT","sd":"static","url_pattern":"/questionare/{code}/push"}],"endpoint":"/monit/code/{code}/push","method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://service-monitoring:8000"],"method":"PUT","sd":"static","url_pattern":"/questionare/{code}/pull"}],"endpoint":"/monit/code/{code}/pull","method":"PUT","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["http://service-monitoring:8000"],"method":"DELETE","sd":"static","url_pattern":"/records/code/{code}/{uname}"}],"endpoint":"/record/code/{code}/{uname}","method":"DELETE","output_encoding":"json"}],"extra_config":{"security/cors":{"allow_credentials":true,"allow_headers":["Access-Control-Allow-Origin"],"allow_methods":["GET","HEAD","POST"],"allow_origins":["http://frontend:3000","http://localhost:3000"],"expose_headers":["Content-Length","Access-Control-Allow-Origin"],"max_age":"12h"}},"name":"KrakenD - API Gateway","output_encoding":"json","timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["172.17.0.4:80"],"method":"POST","sd":"static","url_pattern":"/"}],"endpoint":"/","extra_config":{"plugin/req-resp-modifier":{"krakend-xsd":{"xsd_file":"/opt/krakend/xsd/test_fullname.xsd"},"name":["krakend-xsd-request"]}},"method":"POST","output_encoding":"no-op"}],"name":"KrakenD - API Gateway","output_encoding":"no-op","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://api:9009"],"method":"GET","sd":"static","url_pattern":"/advertise"}],"endpoint":"/api/v0/advertise","input_query_strings":["url"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://api:9009"],"method":"GET","sd":"static","url_pattern":"/products"}],"endpoint":"/api/v0/products","method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://api:9009"],"method":"GET","sd":"static","url_pattern":"/product"}],"endpoint":"/api/v0/product","input_query_strings":["id"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://api:9009"],"method":"GET","sd":"static","url_pattern":"/flag"}],"endpoint":"/api/v0/flag","input_headers":["X-FLAG-KEY"],"method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["http://api:9009"],"method":"POST","sd":"static","url_pattern":"/feedback"}],"endpoint":"/api/v0/feedback","method":"POST","output_encoding":"no-op"}],"name":"Genshin Shop - API Gateway","output_encoding":"json","port":9009,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["products-service:8085"],"method":"GET","sd":"static","url_pattern":"/api/v1/countries"}],"endpoint":"/api/v1/countries","method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["products-service:8085"],"method":"GET","sd":"static","url_pattern":"/api/v1/products"}],"endpoint":"/api/v1/products","method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["products-service:8085"],"method":"GET","sd":"static","url_pattern":"/api/v1/products/{sku}"}],"endpoint":"/api/v1/products/{sku}","method":"GET","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["products-service:8085"],"method":"POST","sd":"static","url_pattern":"/api/v1/stock/consume"}],"endpoint":"/api/v1/stock/consume","method":"POST","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["products-service:8085"],"method":"POST","sd":"static","url_pattern":"/api/v1/upload"}],"endpoint":"/api/v1/upload","method":"POST","output_encoding":"no-op"},{"backend":[{"disable_host_sanitize":false,"encoding":"no-op","host":["bulkupdates-service:8086"],"method":"GET","sd":"static","url_pattern":"/api/v1/upload-status/{uploadid}"}],"endpoint":"/api/v1/upload-status/{uploadid}","method":"GET","output_encoding":"no-op"}],"name":"Jumia MDS Test","output_encoding":"no-op","timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"300s","endpoints":[{"backend":[{"encoding":"no-op","host":["host.docker.internal:9000"],"url_pattern":"/__health"}],"endpoint":"/keycloak-protected","extra_config":{"auth/validator":{"alg":"RS256","cache":true,"disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"output_encoding":"no-op"},{"backend":[{"encoding":"json","host":["host.docker.internal:8003"],"method":"GET","url_pattern":"/authenticate"}],"endpoint":"/authenticate","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"method":"GET","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8001"],"is_collection":true,"method":"GET","url_pattern":"/rides"}],"endpoint":"/rides","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"method":"GET","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8001"],"method":"POST","url_pattern":"/rides"}],"endpoint":"/rides","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8001"],"method":"GET","url_pattern":"/rides/{ride_id}"}],"endpoint":"/rides/{ride_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{ride_id}"],"method":"GET","output_encoding":"json"},{"backend":[{"encoding":"no-op","host":["host.docker.internal:8001"],"method":"DELETE","url_pattern":"/rides/{ride_id}"}],"endpoint":"/rides/{ride_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{ride_id}"],"method":"DELETE","output_encoding":"no-op"},{"backend":[{"encoding":"json","host":["host.docker.internal:8001"],"is_collection":true,"method":"GET","url_pattern":"/user_rides/{user_id}"}],"endpoint":"/user_rides/{user_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{user_id}"],"method":"GET","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8001"],"method":"POST","url_pattern":"/rides/{ride_id}/request"}],"endpoint":"/rides/{ride_id}/request","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{ride_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8001"],"method":"DELETE","url_pattern":"/rides/request/{request_id}"}],"endpoint":"/rides/request/{request_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{request_id}"],"method":"DELETE","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8003"],"method":"POST","url_pattern":"/rides/request/{request_id}"}],"endpoint":"/rides/request/{request_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{request_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8003"],"method":"GET","url_pattern":"/users/{user_id}"}],"endpoint":"/users/{user_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{user_id}"],"method":"GET","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8003"],"is_collection":true,"method":"GET","url_pattern":"/vehicles/{user_id}"}],"endpoint":"/vehicles/{user_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{user_id}"],"method":"GET","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8003"],"method":"POST","url_pattern":"/vehicles/{user_id}"}],"endpoint":"/vehicles/{user_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{user_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8003"],"method":"DELETE","url_pattern":"/vehicles/{car_id}"}],"endpoint":"/vehicles/{car_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{car_id}"],"method":"DELETE","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8005"],"method":"POST","url_pattern":"/notifications/new_request/{ride_id}"}],"endpoint":"/notifications/new_request/{ride_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{ride_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8005"],"method":"POST","url_pattern":"/notifications/request_confirm/{ride_id}"}],"endpoint":"/notifications/request_confirm/{ride_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{ride_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8005"],"method":"POST","url_pattern":"/notifications/edit_ride/{ride_id}"}],"endpoint":"/notifications/edit_ride/{ride_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{ride_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8005"],"method":"POST","url_pattern":"/notifications/ride_canceled/{ride_id}"}],"endpoint":"/notifications/ride_canceled/{ride_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{ride_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8005"],"method":"POST","url_pattern":"/notifications/user_resignation/{ride_id}"}],"endpoint":"/notifications/user_resignation/{ride_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{ride_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8004"],"is_collection":true,"method":"GET","url_pattern":"/reviews/{user_id}"}],"endpoint":"/reviews/{user_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{user_id}"],"method":"GET","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8004"],"method":"POST","url_pattern":"/reviews/{user_id}"}],"endpoint":"/reviews/{user_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_headers":["*"],"input_query_strings":["{user_id}"],"method":"POST","output_encoding":"json"},{"backend":[{"encoding":"json","host":["host.docker.internal:8004"],"method":"DELETE","url_pattern":"/reviews/{review_id}"}],"endpoint":"/reviews/{review_id}","extra_config":{"auth/validator":{"alg":"RS256","disable_jwk_security":true,"issuer":"http://localhost:8403/auth/realms/TraWell","jwk_url":"http://host.docker.internal:8403/auth/realms/TraWell/protocol/openid-connect/certs"}},"input_query_strings":["{review_id}"],"method":"DELETE","output_encoding":"json"}],"name":"TraWell - API Gateway","output_encoding":"json","port":9000,"timeout":"3000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","cache_ttl":"4000s","endpoints":[{"backend":[{"host":["http://192.168.8.103:4500"],"method":"POST","url_pattern":"/api/login"}],"endpoint":"/login_with_signer","extra_config":{"auth/signer":{"alg":"HS256","disable_jwk_security":true,"jwk_url":"http://192.168.8.103:4500/symmetric.json","keys_to_sign":["access_token","refresh_token"],"kid":"sim2"},"security/cors":{"allow_credentials":false,"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["GET","HEAD","POST"],"allow_origins":["*"],"debug":false,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"}},"method":"POST"},{"backend":[{"host":["http://192.168.8.103:4500"],"method":"POST","url_pattern":"/api/login"}],"endpoint":"/login","extra_config":{"security/cors":{"allow_credentials":false,"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["GET","HEAD","POST"],"allow_origins":["*"],"debug":false,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"}},"method":"POST"},{"backend":[{"host":["http://192.168.8.103:4500"],"method":"POST","url_pattern":"/api/token"}],"endpoint":"/get_token","extra_config":{"security/cors":{"allow_credentials":false,"allow_headers":["Content-Type"],"allow_methods":["GET","HEAD","POST"],"allow_origins":["*"],"debug":false,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"}},"method":"POST"},{"backend":[{"host":["http://192.168.8.103:4500"],"method":"GET","url_pattern":"/api/posts"}],"concurrent_calls":1,"endpoint":"/posts","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.8.103:4500/symmetric.json","operation_debug":true,"roles":["admin","photographer"],"roles_key":"roles"}},"input_headers":["*"],"method":"GET"},{"backend":[{"host":["http://192.168.8.103:4500"],"method":"GET","url_pattern":"/api/validate_token"}],"concurrent_calls":2,"endpoint":"/validate_token","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.8.103:4500/symmetric.json","operation_debug":true},"security/cors":{"allow_credentials":true,"allow_headers":["Accept-Language"],"allow_methods":["GET","HEAD","POST"],"allow_origins":["*"],"debug":false,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"}},"input_headers":["*"],"method":"GET"},{"backend":[{"host":["http://192.168.8.103:3030"],"method":"GET","url_pattern":"/photos"}],"concurrent_calls":1,"endpoint":"/api/krakend/photos","extra_config":{"auth/validator":{"@comment":"Comments We can use either this or to access node auth symmetric //http://192.168.8.103:3030/symmetric.json","alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"http://192.168.8.103:4500/symmetric.json","operation_debug":true}},"input_headers":["*"],"method":"GET"},{"backend":[{"host":["http://192.168.8.103:3030"],"method":"GET","url_pattern":"/albums"}],"concurrent_calls":1,"endpoint":"/api/krakend/albums","input_headers":["*"],"method":"GET"}],"extra_config":{"router":{"return_error_msg":true}},"name":"RestApiGateway","output_encoding":"json","port":8080,"timeout":"300000ms","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"@comment":"IMPORTANT: Notice that the /__debug uses the KrakenD host itself","host":["http://127.0.0.1:8080"],"url_pattern":"/__debug/default"}],"endpoint":"/default-behavior"},{"backend":[{"host":["http://127.0.0.1:8080"],"url_pattern":"/__debug/optional"}],"endpoint":"/optional-params","input_headers":["User-Agent","Accept"],"input_query_strings":["a","b"]},{"backend":[{"host":["http://127.0.0.1:8080"],"url_pattern":"/__debug/qs?mandatory={variable}"}],"endpoint":"/mandatory/{variable}"},{"@comment":"Mockbin API 1","backend":[{"encoding":"no-op","extra_config":{"plugin/http-client":{"name":"onliner/krakend-http-cache","onliner/krakend-http-cache":{"connection":"redis","ttl":180}}},"host":["https://mockbin.com"],"url_pattern":"/request"}],"cache_ttl":"300s","endpoint":"/mockbin1","extra_config":{"qos/ratelimit/router":{"capacity":20,"max_rate":20}},"input_query_strings":["page"],"method":"GET","output_encoding":"no-op"},{"backend":[{"host":["http://127.0.0.1:8080"],"url_pattern":"/__debug/default"}],"endpoint":"/api/debug"}],"extra_config":{"plugin/http-server":{"krakend-key-auth":{"consumer":"krakend","key":"1234","key_name":"auth_token","path":["/api"]},"name":["onliner/krakend-http-cache","krakend-key-auth"],"onliner/krakend-http-cache":{"connections":{"inmemory":{"driver":"memory"},"redis":{"driver":"redis","options":{"addr":"redis:6379","db":1,"pass":"","pool_size":5,"user":""}}}}}},"name":"Basic API Gateway","plugin":{"folder":"/etc/krakend-plugins","pattern":".so"},"port":8080,"timeout":"60s","version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"deny":["-m"],"encoding":"xml","extra_config":{"modifier/martian":{"body.Modifier":{"@comment":"The body should be base64-encoded","body":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHNvYXA6RW52ZWxvcGUgeG1sbnM6c29hcD0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8iPgogIDxzb2FwOkJvZHk+CiAgICA8Q2FwaXRhbENpdHkgeG1sbnM9Imh0dHA6Ly93d3cub29yc3Byb25nLm9yZy93ZWJzYW1wbGVzLmNvdW50cnlpbmZvIj4KICAgICAgPHNDb3VudHJ5SVNPQ29kZT5BVTwvc0NvdW50cnlJU09Db2RlPgogICAgPC9DYXBpdGFsQ2l0eT4KICA8L3NvYXA6Qm9keT4KPC9zb2FwOkVudmVsb3BlPg==","contentType":"text/xml; charset=utf-8","scope":["request"]}}},"mapping":{"CapitalCityResult":"capital"},"method":"POST","target":"Envelope.Body.CapitalCityResponse","url_pattern":"/websamples.countryinfo/CountryInfoService.wso"},{"deny":["-m"],"encoding":"xml","extra_config":{"modifier/martian":{"body.Modifier":{"@comment":"The body should be base64-encoded","body":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHNvYXA6RW52ZWxvcGUgeG1sbnM6c29hcD0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8iPgogIDxzb2FwOkJvZHk+CiAgICA8Q291bnRyeUN1cnJlbmN5IHhtbG5zPSJodHRwOi8vd3d3Lm9vcnNwcm9uZy5vcmcvd2Vic2FtcGxlcy5jb3VudHJ5aW5mbyI+CiAgICAgIDxzQ291bnRyeUlTT0NvZGU+QVU8L3NDb3VudHJ5SVNPQ29kZT4KICAgIDwvQ291bnRyeUN1cnJlbmN5PgogIDwvc29hcDpCb2R5Pgo8L3NvYXA6RW52ZWxvcGU+","contentType":"text/xml; charset=utf-8","scope":["request"]}}},"mapping":{"sISOCode":"currency_symbol","sName":"currency_name"},"method":"POST","target":"Envelope.Body.CountryCurrencyResponse.CountryCurrencyResult","url_pattern":"/websamples.countryinfo/CountryInfoService.wso"},{"deny":["-m"],"encoding":"xml","extra_config":{"modifier/martian":{"body.Modifier":{"@comment":"The body should be base64-encoded","body":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHNvYXA6RW52ZWxvcGUgeG1sbnM6c29hcD0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8iPgogIDxzb2FwOkJvZHk+CiAgICA8Q291bnRyeUZsYWcgeG1sbnM9Imh0dHA6Ly93d3cub29yc3Byb25nLm9yZy93ZWJzYW1wbGVzLmNvdW50cnlpbmZvIj4KICAgICAgPHNDb3VudHJ5SVNPQ29kZT5BVTwvc0NvdW50cnlJU09Db2RlPgogICAgPC9Db3VudHJ5RmxhZz4KICA8L3NvYXA6Qm9keT4KPC9zb2FwOkVudmVsb3BlPg==","contentType":"text/xml; charset=utf-8","scope":["request"]}}},"mapping":{"CountryFlagResult":"flag"},"method":"POST","target":"Envelope.Body.CountryFlagResponse","url_pattern":"/websamples.countryinfo/CountryInfoService.wso"}],"endpoint":"/test"}],"host":["http://webservices.oorsprong.org"],"name":"Multiple POST example with SOAP backends - KrakenD","port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"encoding":"json","group":"json","url_pattern":"/response.json"},{"encoding":"xml","group":"xml","url_pattern":"/response.xml"},{"encoding":"rss","group":"rss","url_pattern":"/response-rss.xml"},{"encoding":"string","group":"string","url_pattern":"/response.txt"}],"endpoint":"/encodings.json"},{"backend":[{"host":["http://localhost:8080"],"url_pattern":"/encodings.json"}],"endpoint":"/encodings.xml","output_encoding":"xml"}],"host":["http://fake_api:8080"],"name":"My first API Gateway - KrakenD","port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"encoding":"no-op","host":["http://localhost:8080"],"url_pattern":"/__internal-endpoint-list"}],"endpoint":"/list/{page}","extra_config":{"modifier/lua-proxy":{"allow_open_libs":true,"live":true,"post":"paginate(request.load(), response.load())","sources":["./paginate.lua"]}},"output_encoding":"no-op"},{"backend":[{"mapping":{"data":"agents"},"url_pattern":"/agents.json"},{"mapping":{"data":"users"},"url_pattern":"/users.json"}],"endpoint":"/__internal-endpoint-list","extra_config":{"modifier/jmespath":{"expr":"[agents,users][] | { users_list: @ }"},"plugin/req-resp-modifier":{"ip-filter":{"CIDR":["192.168.0.0/24","172.0.0.0/8","10.0.0.0/16","127.0.0.1","::1"],"allow":true},"name":["ip-filter"]}}}],"extra_config":{"plugin/http-server":{"name":["url-rewrite"],"url-rewrite":{"regexp":[["/list/?$","/list/1"]]}}},"host":["http://my_service:8080"],"name":"My KrakenD API Gateway","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"encoding":"no-op","host":["http://localhost:8080"],"url_pattern":"/__internal-endpoint-raw-components"}],"endpoint":"/components","extra_config":{"modifier/lua-proxy":{"allow_open_libs":true,"live":true,"post":"groupby(response.load())","sources":["./groupby.lua"]}},"output_encoding":"no-op"},{"backend":[{"is_collection":true,"mapping":{"collection":"bom"},"url_pattern":"/bom.json"},{"is_collection":true,"mapping":{"collection":"component"},"url_pattern":"/component.json"}],"endpoint":"/__internal-endpoint-raw-components","extra_config":{"modifier/jmespath":{"expr":"[bom,component][]"}},"output_encoding":"json-collection"}],"host":["http://my_service:8080"],"name":"My KrakenD API Gateway","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"encoding":"xml","extra_config":{"backend/soap":{"path":"soap_request.tmpl.xml"},"modifier/jmespath":{"expr":"Envelope.Body.ListOfContinentsByNameResponse.ListOfContinentsByNameResult.tContinent[*].{code: sCode, name: sName} | { continent: @ }"}},"method":"POST","url_pattern":"/websamples.countryinfo/CountryInfoService.wso"}],"endpoint":"/continents.json","extra_config":{"modifier/jmespath":{"expr":"continent[]"}},"output_encoding":"json-collection"},{"backend":[{"host":["http://localhost:8080"],"is_collection":true,"url_pattern":"/continents.json"}],"endpoint":"/continents.xml","extra_config":{"modifier/jmespath":{"expr":"collection | {continents: {continent: @} }"}},"output_encoding":"xml"},{"backend":[{"host":["http://localhost:8080"],"url_pattern":"/continents.json"}],"endpoint":"/continents.csv","extra_config":{"modifier/lua-proxy":{"allow_open_libs":true,"live":true,"post":"json_to_csv(response.load());","sources":["./json-to-csv.lua"]}},"output_encoding":"no-op"}],"host":["http://webservices.oorsprong.org"],"name":"My KrakenD API Gateway","plugin":{"folder":"/opt/krakend/plugins/","pattern":".so"},"port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"extra_config":{"plugin/http-client":{"name":"porton"}},"host":["http://jwt-inspector:8000"],"url_pattern":"/"}],"endpoint":"/user","extra_config":{"auth/validator":{"alg":"RS256","cache":true,"jwk_url":"http://identity-manager-sts/jwks.json"}},"input_headers":["Authorization"]}],"extra_config":{"plugin/http-server":{"name":["porton"]}},"plugin":{"folder":"/usr/lib/krakend/plugins/","pattern":".so"},"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"host":["http://localhost:8080"],"url_pattern":"/__debug/"}],"endpoint":"/my-endpoint","input_query_strings":["content_id"]}],"name":"My first API Gateway - KrakenD","port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"host":["http://parts-service.demo.svc.cluster.local:8080"],"is_collection":true,"url_pattern":"/api/parts"},{"extra_config":{"proxy":{"shadow":true}},"host":["http://parts-service.lr4j.svc.cluster.local:8080"],"is_collection":true,"url_pattern":"/api/parts"},{"extra_config":{"proxy":{"shadow":true}},"host":["http://a2968b7bf2ea24d7d9b2328de4d26105-683868793.eu-central-1.elb.amazonaws.com:8080"],"is_collection":true,"url_pattern":"/api/parts"}],"endpoint":"/api/parts","input_headers":["*"],"input_query_strings":["vin17"],"output_encoding":"json-collection","timeout":"1s"},{"backend":[{"host":["http://vehicle-service.demo.svc.cluster.local:8081"],"url_pattern":"/api/vehicle/{vin17}"},{"extra_config":{"proxy":{"shadow":true}},"host":["http://vehicle-service.lr4j.svc.cluster.local:8081"],"url_pattern":"/api/vehicle/{vin17}"},{"extra_config":{"proxy":{"shadow":true}},"host":["ada07f301a152460baddf55290e72606-599058362.eu-central-1.elb.amazonaws.com:8081"],"url_pattern":"/api/vehicle/{vin17}"}],"endpoint":"/api/vehicle/{vin17}","input_headers":["*"],"timeout":"1s"}],"extra_config":{"security/cors":{"allow_credentials":false,"allow_headers":["Accept-Language"],"allow_methods":["GET"],"allow_origins":["*"],"debug":false,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"},"telemetry/logging":{"format":"default","level":"INFO","prefix":"[KRAKEND]","stdout":true,"syslog":false}},"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"host":["https://sandbox.api.service.nhs.uk"],"url_pattern":"/hello-world/hello/world"}],"endpoint":"/test"}],"name":"My first API Gateway - KrakenD","port":8080,"version":3}
{"$schema":"https://www.krakend.io/schema/v3.json","endpoints":[{"backend":[{"url_pattern":"/customer.json"},{"url_pattern":"/sales.json"},{"url_pattern":"/inventory.json"}],"endpoint":"/dashboard"}],"host":["http://my_service:8080"],"name":"My first API Gateway - KrakenD","port":8080,"version":3}
{"cache_ttl":"300s","endpoints":[{"backend":[{"disable_host_sanitize":true,"extra_config":{"backend/pubsub/publisher":{"topic_url":"jira"}},"host":["kafka://"],"url_pattern":""}],"endpoint":"/v1/jira","extra_config":{},"input_headers":["Access-Control-Request-Method","Sec-Fetch-Dest","Sec-Fetch-Mode","Sec-Fetch-Site","Origin","Accept-Encoding","Cookie","Content-Type","Host","User-Agent","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Via"],"method":"POST"},{"backend":[{"disable_host_sanitize":true,"extra_config":{"backend/pubsub/publisher":{"topic_url":"github"}},"host":["kafka://"],"url_pattern":""}],"endpoint":"/v1/github","extra_config":{},"input_headers":["Access-Control-Request-Method","Sec-Fetch-Dest","Sec-Fetch-Mode","Sec-Fetch-Site","Origin","Accept-Encoding","Cookie","Content-Type","Host","User-Agent","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Via"],"method":"POST"},{"backend":[{"disable_host_sanitize":true,"extra_config":{"backend/pubsub/publisher":{"topic_url":"rollbar"}},"host":["kafka://"],"url_pattern":""}],"endpoint":"/v1/rollbar","extra_config":{},"input_headers":["Access-Control-Request-Method","Sec-Fetch-Dest","Sec-Fetch-Mode","Sec-Fetch-Site","Origin","Accept-Encoding","Cookie","Content-Type","Host","User-Agent","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Via"],"method":"POST"},{"backend":[{"disable_host_sanitize":true,"extra_config":{"backend/pubsub/publisher":{"topic_url":"gitlab"}},"host":["kafka://"],"url_pattern":""}],"endpoint":"/v1/gitlab","extra_config":{},"input_headers":["Access-Control-Request-Method","Sec-Fetch-Dest","Sec-Fetch-Mode","Sec-Fetch-Site","Origin","Accept-Encoding","Cookie","Content-Type","Host","User-Agent","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Via"],"method":"POST"}],"extra_config":{"security/cors":{"allow_credentials":true,"allow_origins":["http://localhost:3000","http://127.0.0.1:3000","http://127.0.0.1:3001"],"debug":true,"input_headers":["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"]},"telemetry/logging":{"custom_format":"%{message}","format":"custom","level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":true},"telemetry/opencensus":{"exporters":{"jaeger":{"endpoint":"http://127.0.0.114268/api/traces","service_name":"krakend"}}}},"name":"fast-track","output_encoding":"json","timeout":"3000ms","version":3}
{"cache_ttl":"300s","endpoints":[{"backend":[{"encoding":"no-op","url_pattern":"/answer.json"}],"endpoint":"/test","output_encoding":"no-op"},{"backend":[{"encoding":"no-op","url_pattern":"/answer.json"}],"endpoint":"/auth","extra_config":{"auth/validator":{"alg":"HS256","cache":true,"disable_jwk_security":true,"jwk_url":"http://fake_api:8080/symmetric.json"}},"output_encoding":"no-op"},{"backend":[{"deny":["address.city"],"group":"backend1","url_pattern":"/data.json"},{"deny":["address.city"],"group":"backend2","url_pattern":"/data.json"},{"deny":["address.city"],"group":"backend3","url_pattern":"/data.json"}],"endpoint":"/backend","extra_config":{"auth/validator":{"alg":"HS256","cache":true,"disable_jwk_security":true,"jwk_url":"http://fake_api:8080/symmetric.json"}}}],"extra_config":{"router":{"disable_access_log":true,"disable_path_decoding":true},"telemetry/logging":{"level":"DEBUG","stdout":true}},"host":["http://fake_api:8080"],"max_idle_connections_per_host":2000,"timeout":"3000ms","version":3}
{"cache_ttl":"300s","endpoints":[{"backend":[{"url_pattern":"/__health"}],"endpoint":"/test"}],"extra_config":{"telemetry/logging":{"level":"CRITICAL","stdout":false,"syslog":false}},"host":["http://localhost:8080"],"timeout":"3000ms","version":3}
{"cache_ttl":"3600s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.171.159"],"method":"GET","sd":"static","url_pattern":"/users"}],"endpoint":"/users","method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.106.207"],"method":"GET","sd":"static","url_pattern":"/matches"}],"endpoint":"/matches","method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.171.159"],"method":"POST","sd":"static","url_pattern":"/login"}],"endpoint":"/login","method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.171.159"],"method":"POST","sd":"static","url_pattern":"/register"}],"endpoint":"/register","method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.171.159"],"method":"GET","sd":"static","url_pattern":"/animals"}],"endpoint":"/animals","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"https://jsonkeeper.com/b/6S18","operation_debug":true}},"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.171.159"],"method":"POST","sd":"static","url_pattern":"/createAnimal"}],"endpoint":"/createAnimal","method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.106.207"],"method":"POST","sd":"static","url_pattern":"/makematch"}],"endpoint":"/makematch","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"https://jsonkeeper.com/b/6S18","operation_debug":true}},"method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.106.207"],"method":"POST","sd":"static","url_pattern":"/getadoptermatches"}],"endpoint":"/getadoptermatches","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"https://jsonkeeper.com/b/6S18","operation_debug":true}},"method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.106.207"],"method":"POST","sd":"static","url_pattern":"/getsheltermatches"}],"endpoint":"/getsheltermatches","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"https://jsonkeeper.com/b/6S18","operation_debug":true}},"method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.106.207"],"method":"PUT","sd":"static","url_pattern":"/updatematch"}],"endpoint":"/updatematch","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"https://jsonkeeper.com/b/6S18","operation_debug":true}},"method":"PUT","output_encoding":"json"}],"extra_config":{"security/cors":{"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["POST","GET","PUT"],"allow_origins":["http://192.168.99.100:3000","http://localhost:3000","https://bemypet.vercel.app"],"expose_headers":["Content-Length"],"max_age":"12h"},"telemetry/logging":{"level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"backend_disabled":false,"collection_time":"60s","endpoint_disabled":false,"listen_address":":8090","proxy_disabled":false,"router_disabled":false}},"name":"My lovely gateway","port":8080,"timeout":"3s","version":3}
{"cache_ttl":"3600s","endpoints":[{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.29.33"],"method":"GET","sd":"static","url_pattern":"/users"}],"endpoint":"/users","input_query_strings":[],"method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.115.102"],"method":"POST","sd":"static","url_pattern":"/CraeteRecipe"}],"endpoint":"/CraeteRecipe","extra_config":{"auth/validator":{"alg":"HS256","cache":false,"disable_jwk_security":true,"jwk_url":"https://jsonkeeper.com/b/ULWA","operation_debug":true}},"method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.115.102"],"method":"GET","sd":"static","url_pattern":"/Recipies"}],"endpoint":"/Recipies","method":"GET","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.115.102"],"method":"POST","url_pattern":"/SingleRecipe"}],"endpoint":"/SingleRecipe","method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.29.33"],"method":"POST","sd":"static","url_pattern":"/register"}],"endpoint":"/register","method":"POST","output_encoding":"json"},{"backend":[{"disable_host_sanitize":false,"encoding":"json","host":["10.245.29.33"],"method":"POST","sd":"static","url_pattern":"/login"}],"endpoint":"/login","method":"POST","output_encoding":"json"}],"extra_config":{"security/cors":{"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["POST","GET"],"allow_origins":["http://192.168.99.100:3000","http://localhost:3000"],"expose_headers":["Content-Length"],"max_age":"12h"},"telemetry/logging":{"level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"backend_disabled":false,"collection_time":"60s","endpoint_disabled":false,"listen_address":":8090","proxy_disabled":false,"router_disabled":false}},"name":"My lovely gateway","port":8080,"timeout":"3s","version":3}
{"cache_ttl":"3600s","endpoints":[{"backend":[{"extra_config":{"modifier/martian":{"fifo.Group":{"aggregateErrors":true,"modifiers":[{"header.Modifier":{"name":"X-Martian","scope":["request","response"],"value":"ouh yeah!"}},{"header.RegexFilter":{"header":"X-Neptunian","modifier":{"header.Modifier":{"name":"X-Martian-New","scope":["request"],"value":"some value"}},"regex":"no!","scope":["request"]}}],"scope":["request","response"]}},"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10}},"host":["http://127.0.0.1:8000"],"url_pattern":"/__debug/supu"}],"endpoint":"/supu","input_headers":["Authorization","Content-Type"],"method":"GET"},{"backend":[{"allow":["authorizations_url","code_search_url"],"disable_host_sanitize":true,"extra_config":{"modifier/martian":{"fifo.Group":{"aggregateErrors":true,"modifiers":[{"header.Modifier":{"name":"X-Martian","scope":["request","response"],"value":"ouh yeah!"}},{"body.Modifier":{"body":"eyJtc2ciOiJ5b3Ugcm9jayEifQ==","contentType":"application/json","scope":["request"]}},{"header.RegexFilter":{"header":"X-Neptunian","modifier":{"header.Modifier":{"name":"X-Martian-New","scope":["request"],"value":"some value"}},"regex":"no!","scope":["request"]}}],"scope":["request","response"]}},"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10},"qos/ratelimit/proxy":{"capacity":2,"max_rate":2}},"host":["https://api.github.com"],"url_pattern":"/"}],"endpoint":"/github/{user}","method":"GET"},{"backend":[{"allow":["authorizations_url","code_search_url"],"host":["http://api.github.com"],"url_pattern":"/"}],"endpoint":"/private/{user}","extra_config":{"auth/validator":{"alg":"RS256","audience":["http://api.example.com"],"jwk_url":"https://albert-test.auth0.com/.well-known/jwks.json","roles":["user","admin"],"roles_key":"http://api.example.com/custom/roles"}}},{"backend":[{"allow":["items","title"],"encoding":"rss","extra_config":{"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10},"qos/ratelimit/proxy":{"capacity":1,"max_rate":1}},"group":"schedule","host":["http://showrss.info/"],"url_pattern":"/user/schedule/{id}.rss"},{"allow":["items","title"],"encoding":"rss","extra_config":{"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10},"qos/ratelimit/proxy":{"capacity":2,"max_rate":2}},"group":"available","host":["http://showrss.info/"],"url_pattern":"/user/{id}.rss"}],"endpoint":"/show/{id}","extra_config":{"qos/ratelimit/router":{"client_max_rate":5,"max_rate":50,"strategy":"ip"}}}],"extra_config":{"security/cors":{"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["POST","GET"],"allow_origins":["http://192.168.99.100:3000","http://localhost:3000"],"expose_headers":["Content-Length"],"max_age":"12h"},"telemetry/logging":{"level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"backend_disabled":false,"collection_time":"60s","endpoint_disabled":false,"listen_address":":8090","proxy_disabled":false,"router_disabled":false}},"name":"My lovely gateway","port":8080,"timeout":"3s","version":3}
{"cache_ttl":"3600s","endpoints":[{"backend":[{"extra_config":{"modifier/martian":{"fifo.Group":{"aggregateErrors":true,"modifiers":[{"header.Modifier":{"name":"X-Martian","scope":["request","response"],"value":"ouh yeah!"}},{"header.RegexFilter":{"header":"X-Neptunian","modifier":{"header.Modifier":{"name":"X-Martian-New","scope":["request"],"value":"some value"}},"regex":"no!","scope":["request"]}}],"scope":["request","response"]}},"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10}},"host":["http://127.0.0.1:8000"],"url_pattern":"/__debug/supu"}],"endpoint":"/supu","input_headers":["Authorization","Content-Type"],"method":"GET"},{"backend":[{"allow":["authorizations_url","code_search_url"],"disable_host_sanitize":true,"extra_config":{"modifier/martian":{"fifo.Group":{"aggregateErrors":true,"modifiers":[{"header.Modifier":{"name":"X-Martian","scope":["request","response"],"value":"ouh yeah!"}},{"body.Modifier":{"body":"eyJtc2ciOiJ5b3Ugcm9jayEifQ==","contentType":"application/json","scope":["request"]}},{"header.RegexFilter":{"header":"X-Neptunian","modifier":{"header.Modifier":{"name":"X-Martian-New","scope":["request"],"value":"some value"}},"regex":"no!","scope":["request"]}}],"scope":["request","response"]}},"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10},"qos/ratelimit/proxy":{"capacity":2,"max_rate":2}},"host":["https://api.github.com"],"url_pattern":"/"}],"endpoint":"/github/{user}","method":"GET"},{"backend":[{"allow":["authorizations_url","code_search_url"],"host":["http://api.github.com"],"url_pattern":"/"}],"endpoint":"/private/{user}","extra_config":{"auth/validator":{"alg":"RS256","audience":["http://api.example.com"],"jwk_url":"https://albert-test.auth0.com/.well-known/jwks.json","roles":["user","admin"],"roles_key":"http://api.example.com/custom/roles"}}},{"backend":[{"allow":["items","title"],"encoding":"rss","extra_config":{"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10},"qos/ratelimit/proxy":{"capacity":1,"max_rate":1}},"group":"schedule","host":["http://showrss.info/"],"url_pattern":"/user/schedule/{id}.rss"},{"allow":["items","title"],"encoding":"rss","extra_config":{"qos/circuit-breaker":{"interval":60,"max_errors":1,"timeout":10},"qos/ratelimit/proxy":{"capacity":2,"max_rate":2}},"group":"available","host":["http://showrss.info/"],"url_pattern":"/user/{id}.rss"}],"endpoint":"/show/{id}","extra_config":{"qos/ratelimit/router":{"client_max_rate":5,"max_rate":50,"strategy":"ip"}}}],"extra_config":{"security/cors":{"allow_headers":["Origin","Authorization","Content-Type"],"allow_methods":["POST","GET"],"allow_origins":["http://192.168.99.100:3000","http://localhost:3000"],"expose_headers":["Content-Length"],"max_age":"12h"},"telemetry/logging":{"level":"DEBUG","prefix":"[KRAKEND]","stdout":true,"syslog":false},"telemetry/metrics":{"backend_disabled":false,"collection_time":"60s","endpoint_disabled":false,"listen_address":":8090","proxy_disabled":false,"router_disabled":false}},"name":"My lovely gateway","port":9091,"timeout":"3s","version":3}
{"cache_ttl":"3600s","extra_config":{"router":{"disable_access_log":true,"logger_skip_paths":["/__health"]},"security/cors":{"allow_credentials":true,"allow_headers":["Content-Type","Accept-Language","Origin","Authorization"],"allow_methods":["GET","HEAD","POST","PUT","DELETE","OPTIONS"],"allow_origins":["http*"],"debug":true,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"},"telemetry/logging":{"format":"logstash","level":"INFO","prefix":"[KRAKEND]","stdout":true,"syslog":true},"telemetry/opencensus":{"enabled_layers":{"backend":true,"pipe":true,"router":true},"exporters":{"stackdriver":{"default_labels":{"env":"production"},"metric_prefix":"krakend","project_id":"gateway-stackdriver"}},"reporting_period":60,"sample_rate":100}},"name":"KrakenD API Gateway","timeout":"45s","version":3}
{"cache_ttl":"3600s","extra_config":{"router":{"disable_access_log":true,"logger_skip_paths":["/__health"]},"security/cors":{"allow_credentials":true,"allow_headers":["Content-Type","Accept-Language","Origin","Authorization"],"allow_methods":["GET","HEAD","POST","PUT","DELETE","OPTIONS"],"allow_origins":["http*"],"debug":true,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"},"telemetry/logging":{"format":"logstash","level":"INFO","prefix":"[KRAKEND]","stdout":true,"syslog":true},"telemetry/opencensus":{"enabled_layers":{"backend":true,"pipe":true,"router":true},"exporters":{"stackdriver":{"default_labels":{"env":"production"},"metric_prefix":"krakend","project_id":"gateway-stackdriver"}},"reporting_period":60,"sample_rate":100}},"name":"Test gateway","timeout":"45s","version":3}
{"cache_ttl":"3600s","extra_config":{"router":{"disable_access_log":true,"logger_skip_paths":["/__health"]},"security/cors":{"allow_credentials":true,"allow_headers":["Content-Type","Accept-Language","Origin","Authorization"],"allow_methods":["GET","HEAD","POST","PUT","DELETE","OPTIONS"],"allow_origins":["http*"],"debug":true,"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"},"telemetry/logging":{"format":"logstash","level":"INFO","prefix":"[KRAKEND]","stdout":true,"syslog":true},"telemetry/opencensus":{"enabled_layers":{"backend":true,"pipe":true,"router":true},"exporters":{"stackdriver":{"default_labels":{"env":"production"},"metric_prefix":"krakend","project_id":"gateway-test"}},"reporting_period":60,"sample_rate":100}},"name":"gateway-test","plugin":{"folder":"/etc/krakend/config/plugins/","pattern":".so"},"timeout":"45s","version":3}
{"cache_ttl":"3600s","extra_config":{"security/cors":{"allow_credentials":true,"allow_headers":["Content-Type","Accept-Language","Origin","Authorization"],"allow_methods":["GET","HEAD","POST","PUT","DELETE","OPTIONS"],"allow_origins":["http*"],"expose_headers":["Content-Length","Content-Type"],"max_age":"12h"},"telemetry/logging":{"level":"INFO","prefix":"[KRAKEND]","stdout":true,"syslog":false}},"name":"KrakenD API Gateway","timeout":"45s","version":3}
{"endpoints":[{"backend":[{"encoding":"json","extra_config":{"plugin/req-resp-modifier":{"name":["requestBody.Modifier"],"requestBody.Modifier":{"keys":["name","language"],"values":["Shipink","Golang"]}}},"method":"POST","url_pattern":"/api/users"}],"endpoint":"/users","method":"POST","output_encoding":"json"}],"host":["https://reqres.in"],"name":"KrakenD request and response modifier usage example","plugin":{"folder":"./","pattern":".so"},"port":8080,"version":3}
{"endpoints":[{"backend":[{"extra_config":{"backend/http":{"return_error_details":"a"}},"group":"a","host":["http://fake_api_1"],"url_pattern":"/index.php"},{"extra_config":{"backend/http":{"return_error_details":"b"}},"group":"b","host":["http://fake_api_2"],"url_pattern":"/index.php"}],"endpoint":"/ok"},{"backend":[{"extra_config":{"backend/http":{"return_error_details":"a"}},"group":"a","host":["http://fake_api_1"],"url_pattern":"/index.php"},{"extra_config":{"backend/http":{"return_error_details":"b"}},"group":"b","host":["http://fake_api_2"],"url_pattern":"/index.php?return_error=true"}],"endpoint":"/ko"}],"name":"KrakenD API Gateway","port":8080,"version":3}
{"endpoints":[{"backend":[{"extra_config":{"validation/cel":[{"check_expr":"'fake_api_1' in req_headers.Cookie['backend']"}]},"host":["http://fake_api_1"],"url_pattern":"/index.php"},{"extra_config":{"validation/cel":[{"check_expr":"'fake_api_2' in req_headers.Cookie['backend']"}]},"host":["http://fake_api_2"],"url_pattern":"/index.php"},{"extra_config":{"validation/cel":[{"check_expr":"'fake_api_3' in req_headers.Cookie['backend']"}]},"host":["http://fake_api_3"],"url_pattern":"/index.php"}],"endpoint":"/","input_headers":["Cookie"]}],"name":"KrakenD API Gateway","port":8080,"version":3}
{"endpoints":[{"backend":[{"host":["http://fake_api"],"url_pattern":"/index.php"}],"endpoint":"/"},{"backend":[{"host":["http://fake_api"],"url_pattern":"/index.php"}],"endpoint":"/rate-limit","extra_config":{"qos/ratelimit/router":{"max_rate":1}}},{"backend":[{"extra_config":{"qos/circuit-breaker":{"interval":5,"log_status_change":true,"max_errors":1,"name":"test-circuit-breaker","timeout":2}},"group":"backend1","host":["http://fake_api"],"url_pattern":"/index.php"},{"extra_config":{"qos/circuit-breaker":{"interval":5,"log_status_change":true,"max_errors":1,"name":"test-circuit-breaker","timeout":2}},"group":"backend2","host":["http://fake_api"],"url_pattern":"/index.php?return_error=true"}],"endpoint":"/circuit-breaker"}],"name":"KrakenD API Gateway","port":8080,"version":3}
{"endpoints":[{"backend":[{"host":["http://host.docker.internal:8080"],"url_pattern":"/__debug/public"}],"endpoint":"/public"},{"backend":[{"host":["http://host.docker.internal:8080"],"url_pattern":"/__debug/admin"}],"endpoint":"/admin","extra_config":{"auth/api-keys":{"roles":["admin"]}}},{"backend":[{"host":["http://host.docker.internal:8000"],"method":"POST","url_pattern":"/search"}],"endpoint":"/search","extra_config":{"auth/api-keys":{"roles":["user"]}},"method":"POST"}],"extra_config":{"auth/api-keys":{"keys":[{"@description":"ACME Inc.","key":"4d2c61e1-34c4-e96c-9456-15bd983c5019","roles":["user","whitelabel"]},{"@description":"Administrators Inc.","key":"58427514-be32-0b52-b7c6-d01fada30497","roles":["admin","user"]}]}},"version":3}
{"endpoints":[{"backend":[{"host":["http://localhost:8080"],"url_pattern":"/__health"}],"endpoint":"/test/{id}"}],"extra_config":{"plugin/http-server":{"authentication":{"path":"/token"},"name":["authentication"]}},"plugin":{"folder":"/etc/krakend","pattern":".so"},"version":3}
